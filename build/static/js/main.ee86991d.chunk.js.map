{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Person","person","deletePerson","name","number","onClick","Notification","notification","message","className","Error","error","Filter","props","value","newFilter","onChange","handler","PersonFrom","onSubmit","addName","newName","nameHandler","newNumber","numberHandler","type","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","filtering","filter","toLowerCase","includes","window","confirm","result","setTimeout","n","catch","updatePerson","findPerson","find","newPerson","returnedPerson","map","filter1","event","target","preventDefault","personObject","some","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ee86991d.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/people'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst personDelete = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\nexport default { getAll, create, personDelete , update}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst Person = ({ person, deletePerson}) => {\n  return (\n    <li>{person.name} {\" \"}\n    {person.number} {\" \"}\n    <button onClick={() => deletePerson(person)}>\n          delete \n        </button>\n    </li>\n  )\n}\n\nconst Notification = ({ message: notification }) => {\n  if (notification === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notification\">\n      {notification}\n    </div>\n  )\n}\n\nconst Error = ({ message: error }) => {\n  if (error === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {error}\n    </div>\n  )\n}\n\nconst Filter = (props) => {\n  return (\n    <div>        \n      filter shown with <input value={props.newFilter} \n      onChange={props.handler}/>\n      </div> \n  )\n}\n\nconst PersonFrom = (props) => {\n  return (\n    <form onSubmit={props.addName}>\n    <div>\n      name:   <input value={props.newName} \n    onChange={props.nameHandler}/>\n    </div>   \n    <div>\n      number:   <input value={props.newNumber} \n    onChange={props.numberHandler}/>\n    </div>   \n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName, \n      number: newNumber\n    }\n        \n    if (persons.some(person => person.name === (newName))) {\n      updatePerson(personObject);\n    }\n    else {\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('') \n        setNewNumber('')\n        }).then(Notification => {\n          setNotificationMessage(\n            `Added '${personObject.name}'`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)          \n        })    \n      } \n  } \n\nconst filtering = persons.filter(person => {  \n  return (person.name.toLowerCase().includes(newFilter)\n  );\n});\n\nconst handlePersonsChange = (event) => {\n  setNewName(event.target.value)\n}\n\nconst handleNumberChange = (event) => {\n  setNewNumber(event.target.value)\n}\n\nconst handleFilterChange = event => {\n  setNewFilter(event.target.value.toLowerCase());\n};\n\nconst removePerson = ( id ) => {  \n  setPersons(persons.filter(n => n.id !== id))  \n}\n\nconst deletePerson = ( person ) => {\n  if (window.confirm(`delete ${person.name}?`)){\n    personService\n    .personDelete(person.id)\n    .then(result => {\n      setNotificationMessage(\n        `Deleted '${person.name}'`);\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000);\n        removePerson(person.id);    \n    })\n    .catch(error => { \n      setErrorMessage(\n        `'${person.name}' was already removed from server`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    });        \n    }\n  } \n\nconst updatePerson = ( person ) => {\n  const findPerson = persons.find(n => n.name === person.name)\n  const newPerson =  { ...findPerson, number: person.number }\n  \n  if (window.confirm(`${newPerson.name} is already in the\n  phonebook, replace the old number with the new one?`)){\n    personService\n    .update(newPerson.id, newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id \n          !== newPerson.id ? person : returnedPerson));\n          setNotificationMessage(\n            `Updated the number of '${person.name}'`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)          \n           \n      })\n    }  \n  } \n      \n\n  return (\n    <div>\n       <Notification message={notificationMessage} />\n       <Error message={errorMessage} />\n      <h2>Phonebook</h2>\n     \n      <Filter filter1={newFilter} handler={handleFilterChange} />\n          \n      <h2>add a new</h2>\n\n      <PersonFrom addName={addName} \n      newName={newName}\n      nameHandler={handlePersonsChange} \n      newNumber={newNumber}\n      numberHandler={handleNumberChange}/>\n      \n      <h2>Numbers</h2>\n      <ul>\n          {filtering.map(person =>\n          <Person key={person.name} person={person} \n          deletePerson={deletePerson}\n          />\n        )}\n      </ul>\n    </div>\n  )\n\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}