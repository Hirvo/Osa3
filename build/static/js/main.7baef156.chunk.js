(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),u=t.n(c),r=t(15),a=t.n(r),i=(t(20),t(6)),o=t(3),l=t(4),s=t.n(l),d="/api/people",j=function(){return s.a.get(d).then((function(e){return e.data}))},b=function(e){return s.a.post(d,e).then((function(e){return e.data}))},f=function(e){return s.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},m=function(e,n){return s.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},h=t(0),O=function(e){var n=e.person,t=e.deletePerson;return Object(h.jsxs)("li",{children:[n.name," "," ",n.number," "," ",Object(h.jsx)("button",{onClick:function(){return t(n)},children:"delete"})]})},v=function(e){var n=e.message;return null===n?null:Object(h.jsx)("div",{className:"notification",children:n})},p=function(e){var n=e.message;return null===n?null:Object(h.jsx)("div",{className:"error",children:n})},x=function(e){return Object(h.jsxs)("div",{children:["filter shown with ",Object(h.jsx)("input",{value:e.newFilter,onChange:e.handler})]})},w=function(e){return Object(h.jsxs)("form",{onSubmit:e.addName,children:[Object(h.jsxs)("div",{children:["name:   ",Object(h.jsx)("input",{value:e.newName,onChange:e.nameHandler})]}),Object(h.jsxs)("div",{children:["number:   ",Object(h.jsx)("input",{value:e.newNumber,onChange:e.numberHandler})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]})},g=function(){var e=Object(c.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],r=Object(c.useState)(""),a=Object(o.a)(r,2),l=a[0],s=a[1],d=Object(c.useState)(""),g=Object(o.a)(d,2),C=g[0],N=g[1],S=Object(c.useState)(""),T=Object(o.a)(S,2),k=T[0],F=T[1],P=Object(c.useState)(null),y=Object(o.a)(P,2),H=y[0],L=y[1],D=Object(c.useState)(null),B=Object(o.a)(D,2),E=B[0],I=B[1];Object(c.useEffect)((function(){j().then((function(e){u(e)}))}),[]);var J=t.filter((function(e){return e.name.toLowerCase().includes(k)})),A=function(e){window.confirm("delete ".concat(e.name,"?"))&&f(e.id).then((function(n){var c;L("Deleted '".concat(e.name,"'")),setTimeout((function(){L(null)}),5e3),c=e.id,u(t.filter((function(e){return e.id!==c})))})).catch((function(n){I("'".concat(e.name,"' was already removed from server")),setTimeout((function(){I(null)}),5e3)}))},M=function(e){var n=t.find((function(n){return n.name===e.name})),c=Object(i.a)(Object(i.a)({},n),{},{number:e.number});window.confirm("".concat(c.name," is already in the\n  phonebook, replace the old number with the new one?"))&&m(c.id,c).then((function(n){u(t.map((function(e){return e.id!==c.id?e:n}))),L("Updated the number of '".concat(e.name,"'")),setTimeout((function(){L(null)}),5e3)}))};return Object(h.jsxs)("div",{children:[Object(h.jsx)(v,{message:H}),Object(h.jsx)(p,{message:E}),Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(x,{filter1:k,handler:function(e){F(e.target.value.toLowerCase())}}),Object(h.jsx)("h2",{children:"add a new"}),Object(h.jsx)(w,{addName:function(e){e.preventDefault();var n={name:l,number:C};t.some((function(e){return e.name===l}))?M(n):b(n).then((function(e){u(t.concat(e)),s(""),N("")})).then((function(e){L("Added '".concat(n.name,"'")),setTimeout((function(){L(null)}),5e3)})).catch((function(e){I("".concat(e.response.data.error)),setTimeout((function(){I(null)}),5e3)}))},newName:l,nameHandler:function(e){s(e.target.value)},newNumber:C,numberHandler:function(e){N(e.target.value)}}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)("ul",{children:J.map((function(e){return Object(h.jsx)(O,{person:e,deletePerson:A},e.name)}))})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,u=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),c(e),u(e),r(e),a(e)}))};a.a.render(Object(h.jsx)(u.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),C()}},[[40,1,2]]]);
//# sourceMappingURL=main.7baef156.chunk.js.map